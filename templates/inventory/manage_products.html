{% extends "layout.html" %}
{% load static %}

{% block title %}Manage Products{% endblock %}

{% block content %}
<div class="p-6">
  <h2 class="text-3xl font-bold mb-6 text-primary">Manage Products</h2>


  <form method="post" class="overflow-x-auto">
    {% csrf_token %}
    <table class="table table-zebra w-full">
      <thead>
        <tr>
          <th>Product Name</th>
          <th>Quantity</th>
          <th>In Stock</th>
          <th>Buy Price</th>
          <th>Product MRP</th>
        </tr>
      </thead>
      <tbody>
        {% for product in products %}
        <tr class="hover">
          <td>{{ product.product_name }}</td>
          <td>
            <input type="number" step="1" min="0"
                   name="product_quantity_{{ product.id }}" 
                   value="{{ product.product_quantity }}" 
                   class="input input-bordered w-24 focus:outline-none">
          </td>
          <td>
            <input type="checkbox" name="in_stock_{{ product.id }}" 
                   class="checkbox checkbox-primary" {% if product.in_stock %}checked{% endif %}>
          </td>
          <td>
            <input type="number" step="0.01" min="0"
                   name="buy_price_{{ product.id }}" 
                   value="{{ product.buy_price }}" 
                   class="input input-bordered w-24 focus:outline-none">
          </td>
          <td>
            <input type="number" step="0.01" min="0"
                   name="product_price_{{ product.id }}" 
                   value="{{ product.product_price }}" 
                   class="input input-bordered w-24 focus:outline-none">
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <div class="mt-6">
      <button type="submit" class="btn btn-primary">
        <i class="fa-solid fa-save mr-2"></i> Save Changes
      </button>
    </div>
  </form>
</div>
{% endblock %}
